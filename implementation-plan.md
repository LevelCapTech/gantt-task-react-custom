## 1. ゴール / 非ゴール
- ゴール: `@dnd-kit/core` と必要に応じた `@dnd-kit/utilities` を最小構成で導入し、既存の build / lint / typecheck / test がすべて成功する状態を確立する。microbundle 出力のサイズ増を +100KB 未満に抑える。
- 非ゴール: dnd-kit を用いた UI/UX 実装変更（ドラッグ&ドロップ機能追加等）、Storybook/Example の改修。

## 2. スコープと変更対象
- 変更ファイル（新規/修正/削除）: `package.json`, `package-lock.json`, `implementation-plan.md`（本書）。
- 影響範囲・互換性リスク: ライブラリ本体コード無変更。依存追加による peerDependencies 整合性のみ確認。バンドルサイズ増は +100KB 未満を目標。Node>=10, React^18 互換を維持。
- 外部依存・Secrets の扱い: 新規追加は `@dnd-kit/core@^6.3.1` と `@dnd-kit/utilities@^3.2.2`。Secrets は扱わない。

## 3. 設計方針
- 責務分離 / データフロー: ライブラリコードへ組み込みは行わず、依存関係のみ追加。利用側 API には未介入。
- エッジケース / 例外系 / リトライ方針: 依存解決失敗時はバージョン固定を見直し、npm ci により再現性確保。影響範囲は dev/prod 共にビルド時のみ。
- ログと観測性（漏洩防止を含む）: 追加ログなし。npm ls で依存整合を確認し記録。

## 4. テスト戦略
- テスト観点（正常 / 例外 / 境界 / 回帰）: ビルド・lint・ユニットテストが既存と同等に通過することを確認。バンドルサイズが +100KB 未満であることを目視確認。
- モック / フィクスチャ方針: 既存テストを流用。新規テスト追加なし（コード変更なしのため）。
- テスト追加の実行コマンド: `npm test`（test:unit / test:lint / test:build を包含）。

## 5. CI 品質ゲート
- 実行コマンド（format / lint / typecheck / test / security）: `npm test` を実行し lint/typecheck/build/unit を確認。セキュリティスキャンは現行方針を継続。
- 通過基準と失敗時の対応: すべて成功すること。失敗時は依存バージョンの互換性を見直し、必要ならロールバック。

## 6. ロールアウト・運用
- ロールバック方法: `package.json`/`package-lock.json` の変更をリバートし npm ci を実行。
- 監視・運用上の注意: なし（機能追加なし）。バンドルサイズをリリース前に確認。

## 7. オープンな課題 / ADR 要否
- 未確定事項: なし。
- ADR に残すべき判断: なし（依存追加のみのため）。
